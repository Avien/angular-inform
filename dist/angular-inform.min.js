/*
 Angular Inform
 (c) 2010-2014 Null McNull, Inc. https://github.com/McNull
 License: MIT
*/
!function(t){var e=t.module("inform",[]);e.controller("InformCtrl",["$scope","inform",function(t,e){t.messages=e.messages(),t.remove=e.remove,t.cancelTimeout=e.cancelTimeout,t.setTimeout=e.setTimeout}]),e.directive("inform",function(){return{restrict:"AE",templateUrl:"angular-inform/directive.ng.html",controller:"InformCtrl"}}),e.provider("inform",function(){var e=this;this._defaults={type:"info",ttl:5e3},this.defaults=function(n){return e._defaults=t.extend(e._defaults,n||{}),e._defaults},this.$get=["$timeout",function(n){function o(t){for(var e=a.length;e--;)if(t(a[e]))return e;return-1}function i(t){t.timeout&&(n.cancel(t.timeout),delete t.timeout)}function r(t){i(t),t.ttl>0&&(t.timeout=n(function(){u(t)},t.ttl))}function s(n,i){var s=t.extend({},e._defaults,i),u=o(function(t){return t.content===n&&t.type==s.type});return u>=0?(s=a[u],s.count+=1):(s.content=n,s.tickCount=+new Date,s.count=1,a.push(s)),r(s),s}function u(t){var e=o(function(e){return e===t});e>=0&&(a.splice(e,1),i(t))}function c(){a.length=0}var a=[];return{messages:function(){return a},add:s,remove:u,clear:c,cancelTimeout:i,setTimeout:r}}]}),function(t){t.run(["$templateCache",function(t){t.put("angular-inform/directive.ng.html",'<div class="inform"><div ng-repeat="msg in messages | orderBy:\'-tickCount\'" class="inform-message alert alert-{{ msg.type }} alert-dismissible" role="alert" ng-mouseenter="cancelTimeout(msg)" ng-mouseleave="setTimeout(msg)"><button type="button" class="close" ng-click="remove(msg)"><span>&times;</span></button><span class="inform-message-content"><span class="badge" ng-if="msg.count > 1">{{ msg.count }}</span> {{ msg.content }}</span></div></div>')}])}(e)}(angular);